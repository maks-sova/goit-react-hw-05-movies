{"version":3,"file":"static/js/168.80f48553.chunk.js","mappings":"oOACA,EAAyB,wBAAzB,EAAwD,sBAAxD,EAA2F,4B,2BC8C3F,EA1CgB,WACd,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,UAAS,IAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAmBR,OAjBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,mCAAG,6FACzBN,EAAS,IADgB,kBAGAO,MAAM,sCAAD,OACYJ,EADZ,4BACuCK,EAAAA,EADvC,2BAHL,cAGjBC,EAHiB,gBAMJA,EAASC,OANL,OAMjBC,EANiB,OAOvBT,EAAWS,EAAKC,SAPO,kDASvBZ,EAAS,8BATc,0DAAH,qDAaxBM,GACD,GAAE,CAACH,IAEa,KAAVJ,GACL,0BACE,eAAIc,UAAWC,EAAf,SACGb,EAAQc,OAAS,EAChBd,EAAQe,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAf,OACV,2BACE,cAAGN,UAAWC,EAAd,2BAAsCI,MACtC,cAAGL,UAAWC,EAAd,SAAyBK,MAFlBF,EADC,KAOZ,cAAGJ,UAAWC,EAAd,2DAKN,uBAAIf,GAEP,C,sDC7CM,IAAMS,EAAM,kC,sBCAnB,SAASY,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQjB,EAAKkB,GACpE,IACE,IAAIC,EAAON,EAAIb,GAAKkB,GAChBE,EAAQD,EAAKC,KAInB,CAHE,MAAO7B,GAEP,YADAwB,EAAOxB,EAET,CAEI4B,EAAKE,KACPP,EAAQM,GAERE,QAAQR,QAAQM,GAAOG,KAAKP,EAAOC,EAEvC,CAEe,SAASO,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMY,EAAGK,MAAMJ,EAAME,GAEzB,SAASZ,EAAMI,GACbR,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQG,EAClE,CAEA,SAASH,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,EACnE,CAEAf,OAAMgB,EACR,GACF,CACF,C","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/data.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"author\":\"Reviews_author__CqYAZ\",\"text\":\"Reviews_text__EqLvx\",\"reviewList\":\"Reviews_reviewList__uMBar\"};","import { useState, useEffect } from 'react';\nimport css from './Reviews.module.css';\nimport { useParams } from 'react-router-dom';\nimport { key } from '../../services/data';\n\nconst Reviews = () => {\n  const [error, setError] = useState('');\n  const [reviews, setReviews] = useState([]);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const searchMovieReviews = async () => {\n      setError('');\n      try {\n        const response = await fetch(\n          `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${key}&language=en-US&page=1`\n        );\n        const data = await response.json();\n        setReviews(data.results);\n      } catch (error) {\n        setError('Oops, something goes wrong');\n      }\n    };\n\n    searchMovieReviews();\n  }, [movieId]);\n\n  return error === '' ? (\n    <div>\n      <ul className={css.reviewList}>\n        {reviews.length > 0 ? (\n          reviews.map(({ id, author, content }) => (\n            <li key={id}>\n              <p className={css.author}>{`Author: ${author}`}</p>\n              <p className={css.text}>{content}</p>\n            </li>\n          ))\n        ) : (\n          <p className={css.text}>We don't have any reviews for this movie</p>\n        )}\n      </ul>\n    </div>\n  ) : (\n    <p>{error}</p>\n  );\n};\n\nexport default Reviews;\n","export const key = '9399d8b42729d3a09de5f975ffe36867';\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["useState","error","setError","reviews","setReviews","movieId","useParams","useEffect","searchMovieReviews","fetch","key","response","json","data","results","className","css","length","map","id","author","content","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}